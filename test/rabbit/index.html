<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8" />
	<title>Rabbit Test Suite</title>
	<link rel="stylesheet" href="../qunit/qunit.css" type="text/css" media="screen">
	<script type="text/javascript" src="../qunit/qunit.js"></script>
	
	<script type="text/javascript" src="http://maps.google.com/maps/api/js?v=3.5&amp;sensor=false"></script>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
	
	<script src="../../js/rabbit.js"></script>
	
	


        <script>
					
			module("Setup module");

			test("is google maps loaded?", function() {
			  ok(google.maps, "is google maps loaded?");
			});

			test("is global variable defined?", function() {
			  ok(RABBIT, "is global variable defined?");
			});

			test("is map variable defined?", function() {
			  ok(RABBIT.map, "is map variable defined?");
			});
		
			test("is init defined?", function() {
			  ok(RABBIT.map.init, "is init defined?");
			});
						
			module("Setup variables module");
			
			test("are map options defined?", function() {
			  ok(RABBIT.map.mapOptions, "are map options defined?");
			});			

			module("Geolocation");
			
			test("Does geoLocation function exist?", function() {
			  ok(RABBIT.map.getGeoLocation, "Is geoLocation available?");
			});	

			test("Does browser support geoLocation?", function() {
			  ok(RABBIT.map.getGeoLocation() == true, "Does browser support geoLocation?");
			});

			test("Has geolocation been updated?", function() {
				//bit of a problem in the logic of this test :-s
				RABBIT.map.getGeoLocation();
			  	ok(RABBIT.map.mapOptions.center.lat() == 53, "Has geolocation been updated?");
			});
			
			test("Does get artists return JSON?", function() {
			  ok(RABBIT.map.getArtists() == true, "Does get artists return JSON?");
			});
			
			module("Events");
			
			test("Does event listener exist?", function() {
			  ok(RABBIT.map.addEventListeners, "Does event listener exist?");
			});				
			

        </script>

		<style type="text/css">
			#map_canvas {
				width: 700px;
				height: 500px;
			}
		</style>
	
	
</head>
<body>
	<h1 id="qunit-header">QUnit Test Suite</h1>
	<h2 id="qunit-banner"></h2>
	<div id="qunit-testrunner-toolbar"></div>
	<h2 id="qunit-userAgent"></h2>
	<ol id="qunit-tests"></ol>
	<div id="qunit-fixture">test markup</div>
	
	<div id="map_canvas"></div>
	
</body>
</html>
